---
page_title: "Provider: solacebroker"
description: |-
  A provider for a Solace PubSub+ Software Event Broker.  
---

# Solace PubSub+ Software Event Broker (solacebroker) Provider

The [Solace PubSub+ Platform](https://solace.com/products/platform/)'s [PubSub+ Software Event Broker](https://solace.com/products/event-broker/software/) 
efficiently streams event-driven information between applications, IoT devices and user interfaces running in cloud, on-premises, and hybrid environments 
using open APIs and protocols like AMQP, JMS, MQTT, REST and WebSocket.

It can be installed into a variety of public and private clouds, PaaS, and on-premises environments, 
and brokers in multiple locations can be linked together in an [Event Mesh](https://solace.com/what-is-an-event-mesh/) 
to dynamically share events across the distributed enterprise.

## Overview

The _solacebroker_ provider enables you to configure a PubSub+ Software Event Broker using Terraform.

This provider also offers the possibility to generate an [HCL configuration](https://developer.hashicorp.com/terraform/language) file from a preconfigured event broker.

Use the navigation to the left for more information in the guides and for the available provider resources and data sources.

## Limitations

> This version of the PubSub+ Terraform provider is generally available for production services contained within a Message VPN.  Use of any resource not contained within a Message VPN is not supported in production by Solace.

## Minimum broker version

The minimum required PubSub+ Software Event Broker version is 10.4.

## Example Usage

```terraform
terraform {
  required_providers {
    solacebroker = {
      source = "registry.terraform.io/solaceproducts/solacebroker"
    }
  }
}

# Configure the provider
provider "solacebroker" {
  # Event broker management user credentials
  username = "admin"
  password = "admin"
  # The base URL of the PubSub+ event broker,
  #  for example https://mybroker.example.org:<semp-service-port>
  url      = "http://localhost:8080"
}

# Create a message-vpn on the event broker
resource "solacebroker_msg_vpn" "test" {
  msg_vpn_name        = "new"
  enabled             = true
  max_msg_spool_usage = 10
}

# Create a messaging queue
resource "solacebroker_msg_vpn_queue" "q" {
  msg_vpn_name    = solacebroker_msg_vpn.test.msg_vpn_name
  queue_name      = "green"
  ingress_enabled = true
  egress_enabled  = true
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Optional

- `bearer_token` (String, Sensitive) A bearer token that will be sent in the Authorization header of SEMP requests. Requires TLS transport enabled. Conflicts with username and password.
- `insecure_skip_verify` (Boolean) Disable validation of server SSL certificates, accept/ignore self-signed. The default value is false.
- `password` (String, Sensitive) The password to connect to the broker with. Requires username and conflicts with bearer_token.
- `request_min_interval` (String) A [duration](https://pkg.go.dev/maze.io/x/duration#ParseDuration) string indicating the minimum interval between requests; this serves as a rate limit. This setting does not apply to retries. Set to 0 for no rate limit. The default value is 100ms (which equates to a rate limit of 10 calls per second).
- `request_timeout_duration` (String) A [duration](https://pkg.go.dev/maze.io/x/duration#ParseDuration) string indicating the maximum time to wait for a SEMP request.  The default value is 1m.
- `retries` (Number) The number of retries for a SEMP call. The default value is 10.
- `retry_max_interval` (String) A [duration](https://pkg.go.dev/maze.io/x/duration#ParseDuration) string indicating the maximum retry interval. The default value is 30s.
- `retry_min_interval` (String) A [duration](https://pkg.go.dev/maze.io/x/duration#ParseDuration) string indicating how long to wait after an initial failed request before the first retry.  Exponential backoff is used, up to the limit set by retry_max_interval. The default value is 3s.
- `skip_api_check` (Boolean) Disable validation of the broker SEMP API for supported platform and minimum version. The default value is false.
- `url` (String) The base URL of the event broker, for example `https://mybroker.example.org:<semp-service-port>/`. The trailing / can be omitted.
- `username` (String) The username to connect to the broker with.  Requires password and conflicts with bearer_token.

-> All provider configuration values can also be set as environment variables with the same name, but uppercase and with the `SOLACEBROKER_` prefix.
For example, the password attribute can be set via the `SOLACEBROKER_PASSWORD` environment variable.  Values in the configuration take precedence over environment variables.

## HTTP Proxy Support

This provider supports the use of HTTP proxies through environment variables.

The environment variables for HTTP proxy configuration are:
* `HTTP_PROXY`: Use to set the proxy when `http://` protocol is specified in the target broker URL in the provider configuration.
* `HTTPS_PROXY`: Use to set the proxy when secure `https://` protocol is specified in the target broker URL in the provider configuration.
* `NO_PROXY`: Comma separated list of broker address domains that should bypass the proxy.

To set the proxy, specify the proxy protocol, FQDN address and port. If `https://` proxy protocol is specified then secure TLS connection will be used between the provider and the proxy. Username and password can be optionally specified for proxy authorization.

Examples:
```shell
# Plain text connection to the target broker via proxy
HTTP_PROXY=http://proxy:port
# Set up TLS tunnel from the provider through the proxy server to reach the broker via secure connection. Note the 'http' proxy protocol specified.
HTTPS_PROXY=http://proxy:port
# As above, additionally uses proxy authentication and secure TLS connection from the provider to the proxy server
HTTPS_PROXY=https://username:password@proxy:port
```

# Release Notes and History

For detailed release notes and release history, see [this link](https://products.solace.com/download/DSEMP_TERRAFORM_SW_BROKER_PROVIDER_RN) and the Releases section in the [Provider GitHub repository](https://github.com/SolaceProducts/terraform-provider-solacebroker/releases).
